{"version":3,"sources":["styles/CityDetail.module.css","styles/App.module.css","styles/SearchBar.module.css","styles/Nav.module.css","styles/Cards.module.css","styles/CitiesPage.module.css","services/fetch.js","services/fetchCity.js","components/Temp.jsx","components/Card.jsx","components/Cards.jsx","components/SearchBar.jsx","views/CitiesPage.jsx","views/CityDetail.jsx","services/fetchCityById.js","components/Nav.jsx","App.js","services/fetchCoords.js","index.js","styles/Card.module.css"],"names":["module","exports","fetchData","path","a","fetch","r","json","undefined","recurso","main","ciudad","min","Math","round","temp_min","max","temp_max","img","weather","icon","id","wind","speed","temp","name","clouds","all","latitud","coord","lat","longitud","lon","require","config","Temp","label","className","styles","Card","props","onClose","primary","cityId","card","to","button","onClick","src","alt","temps","Cards","cities","cards","map","city","SearchBar","onSearch","React","useState","search","setSearch","handleOnSearch","searchBar","input","placeholder","autoComplete","value","onChange","e","target","onKeyPress","key","CitiesPage","data","handleOnClose","citiesContainer","length","style","textAlign","width","marginTop","fontSize","CityDetail","onBack","setCity","useEffect","setData","process","then","fetchCityById","detail","prop","active","fontWeight","Nav","nav","navLink","activeStyle","exact","App","navigator","geolocation","getCurrentPosition","pos","oldCities","alert","fetchCoords","coords","latitude","longitude","app","bkg","container","prevData","filter","fetchCity","component","render","match","history","parseInt","params","goBack","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.252a3a17.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"city\":\"CityDetail_city__2KDxZ\",\"detail\":\"CityDetail_detail__37GnD\",\"prop\":\"CityDetail_prop__1xwAY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2eFy8\",\"bkg\":\"App_bkg__34xTW\",\"container\":\"App_container__1bl0d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__2DoiA\",\"input\":\"SearchBar_input__H6myV\",\"button\":\"SearchBar_button__1jO4H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1QjEh\",\"navLink\":\"Nav_navLink__2p6Xf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"Cards_cards__3ybSd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"citiesContainer\":\"CitiesPage_citiesContainer__1YZri\"};","export default async function fetchData(path) {\n  const r = await fetch(path);\n  const recurso = await r.json();\n  let ciudad;\n  if (recurso.main !== undefined) {\n    ciudad = {\n      min: Math.round(recurso.main.temp_min),\n      max: Math.round(recurso.main.temp_max),\n      img: recurso.weather[0].icon,\n      id: recurso.id,\n      wind: recurso.wind.speed,\n      temp: recurso.main.temp,\n      name: recurso.name,\n      weather: recurso.weather[0].main,\n      clouds: recurso.clouds.all,\n      latitud: recurso.coord.lat,\n      longitud: recurso.coord.lon,\n    };\n  }\n  return ciudad;\n}\n","import fetchData from \"./fetch\";\nrequire('dotenv').config()\n\nconst apiKey = process.env.REACT_APP_APIKEY;\n\nexport default function fetchCity(ciudad, setData) {\n  fetchData(\n    `https://api.openweathermap.org/data/2.5/weather?q=${ciudad}&appid=${apiKey}&units=metric`\n  ).then((city) => {\n    if (city) {\n      setData((oldCities) => [...oldCities, city]);\n    } else {\n      alert(\"Ciudad no encontrada\");\n    }\n  });\n}\n","import React from \"react\";\r\nimport styles from \"../styles/Card.module.css\";\r\n\r\nexport default function Temp({ label, temp }) {\r\n  return (\r\n    <div className={styles.temp}>\r\n      <span>{label}</span>\r\n      <span>{temp}º</span>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { IoCloseCircleOutline } from \"react-icons/io5\";\nimport Temp from \"./Temp\"\nimport styles from \"../styles/Card.module.css\";\n\nexport default function Card(props) {\n  const { max, min, name, img, onClose, primary, cityId } = props;\n  // acá va tu código\n  return (\n    <div className={`${styles.card} ${primary ? styles.primary : \"\"}`}>\n      <Link to={`/city/${cityId}`} className={styles.name}>\n        {name}\n        {!primary && (\n          <button className={styles.button} onClick={onClose}>\n            <IoCloseCircleOutline />\n          </button>\n        )}\n      </Link>\n      <img\n        src={`http://openweathermap.org/img/wn/${img}@2x.png`}\n        alt=\"Icono del clima\"\n      />\n      <div className={styles.temps}>\n        <Temp label=\"Min\" temp={min} />\n        <Temp label=\"Max\" temp={max} />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Card from \"./Card\";\nimport styles from \"../styles/Cards.module.css\";\n\nexport default function Cards({ cities, onClose }) {\n  // acá va tu código\n  // tip, podés usar un map\n  return (\n    <div className={styles.cards}>\n      {cities.map((city) => (\n        <Card\n          key={city.id}\n          cityId={city.id}\n          name={city.name}\n          min={city.min}\n          max={city.max}\n          img={city.img}\n          onClose={() => onClose(city.id)}\n        />\n      ))}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { IoAdd } from \"react-icons/io5\";\nimport styles from \"../styles/SearchBar.module.css\";\n\nexport default function SearchBar({ onSearch }) {\n  // acá va tu código\n  const [search, setSearch] = React.useState(\"\");\n\n  const handleOnSearch = () => {\n    // const input = document.getElementById(\"searchInput\");\n    // onSearch(input.value);\n    // input.value = \"\";\n    onSearch(search);\n    setSearch(\"\");\n  };\n\n  return (\n    <div className={styles.searchBar}>\n      <input\n        className={styles.input}\n        id=\"searchInput\"\n        placeholder=\"Agregar una ciudad...\"\n        autoComplete=\"off\"\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        onKeyPress={(e) => {\n          if (e.key === \"Enter\") handleOnSearch();\n        }}\n      />\n      <button className={styles.button} onClick={handleOnSearch}>\n        <IoAdd />\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Card from \"../components/Card.jsx\";\nimport Cards from \"../components/Cards.jsx\";\nimport SearchBar from \"../components/SearchBar.jsx\";\n\nimport styles from \"../styles/CitiesPage.module.css\";\n\nfunction CitiesPage({ data, handleOnClose, onSearch }) {\n  return (\n    <>\n      <div>\n        <SearchBar onSearch={onSearch} />\n      </div>\n      <div className={styles.citiesContainer}>\n        {data.length > 0 ? (\n          <>\n            <Card\n              primary\n              max={data[data.length - 1].max}\n              min={data[data.length - 1].min}\n              name={data[data.length - 1].name}\n              img={data[data.length - 1].img}\n            />\n            <Cards cities={data} onClose={handleOnClose} />\n          </>\n        ) : (\n          <span\n            style={{\n              textAlign: \"center\",\n              width: \"70vw\",\n              marginTop: \"1rem\",\n              fontSize: \"2rem\",\n            }}\n          >\n            Agrega una nueva ciudad\n          </span>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default CitiesPage;\n","import React from \"react\";\nimport fetchCityById from \"../services/fetchCityById\";\nimport styles from \"../styles/CityDetail.module.css\";\n\nfunction CityDetail({ id, onBack }) {\n  const [city, setCity] = React.useState();\n  React.useEffect(() => {\n    fetchCityById(id, setCity);\n  }, [id, setCity]);\n\n  // if (city === undefined) return <h2>Cargando...</h2>;\n  // else if (city === null) return <h2>Ciudad no encontrada</h2>;\n  // return <div>{city.name}</div>;\n  return (\n    <div className={styles.city}>\n      <button onClick={onBack}>Atras</button>\n      {city === undefined && <h2>Cargando...</h2>}\n      {city === null && <h2>Ciudad no encontrada</h2>}\n      {city && (\n        <div className={styles.detail}>\n          <div className={styles.prop}>\n            <label>Ciudad:</label>\n            <span>{city.name}</span>\n          </div>\n          <div className={styles.prop}>\n            <label>T max:</label>\n            <span>{city.max}</span>\n          </div>\n          <div className={styles.prop}>\n            <label>T max:</label>\n            <span>{city.min}</span>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default CityDetail;\n","import fetchData from \"./fetch\";\n\nconst apiKey = process.env.REACT_APP_APIKEY;\n\nexport default function fetchCityById(id, setData) {\n  fetchData(\n    `https://api.openweathermap.org/data/2.5/weather?id=${id}&appid=${apiKey}&units=metric`\n  ).then((city) => {\n    if (city) {\n      setData(city);\n    } else {\n      setData(null);\n    }\n  });\n}\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"../styles/Nav.module.css\";\n\nconst active = {\n  fontWeight: 700,\n};\n\nfunction Nav() {\n  return (\n    <nav className={styles.nav}>\n      <NavLink className={styles.navLink} activeStyle={active} to=\"/\" exact>\n        Home\n      </NavLink>\n    </nav>\n  );\n}\n\nexport default Nav;\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport fetchCity from \"./services/fetchCity\";\nimport fetchCoords from \"./services/fetchCoords.js\";\n\nimport styles from \"./styles/App.module.css\";\nimport CitiesPage from \"./views/CitiesPage\";\nimport CityDetail from \"./views/CityDetail\";\nimport Nav from \"./components/Nav\";\n\nfunction App() {\n  const [data, setData] = React.useState([]);\n\n  function onSearch(ciudad) {\n    if (data.length > 2) {\n      alert(\"No puedes agregar más ciudades.\");\n    } else {\n      fetchCity(ciudad, setData);\n    }\n  }\n\n  function handleOnClose(id) {\n    setData((prevData) => {\n      return prevData.filter((city) => city.id !== id);\n    });\n  }\n\n  React.useEffect(() => {\n    if (navigator.geolocation)\n      navigator.geolocation.getCurrentPosition((pos) => {\n        fetchCoords(pos.coords.latitude, pos.coords.longitude, setData);\n      });\n  }, []);\n\n  return (\n    <div className={styles.app}>\n      <div className={styles.bkg} />\n      <div className={styles.container}>\n        <Route path=\"/\" exact>\n          <CitiesPage\n            data={data}\n            handleOnClose={handleOnClose}\n            onSearch={onSearch}\n          />\n        </Route>\n        <Route path=\"/\" component={Nav} />\n        <Route\n          path=\"/city/:id\"\n          render={({ match, history }) => {\n            const id = parseInt(match.params.id);\n            return <CityDetail id={id} onBack={history.goBack} />;\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import fetchData from \"./fetch\";\n\nconst apiKey = process.env.REACT_APP_APIKEY;\n\nexport default function fetchCoords(lat, lon, setData) {\n  fetchData(\n    `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`\n  ).then((city) => {\n    if (city) {\n      setData((oldCities) => [...oldCities, city]);\n    } else {\n      alert(\"Ciudad no encontrada\");\n    }\n  });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card___22wX\",\"primary\":\"Card_primary__3JgN5\",\"name\":\"Card_name__3BGt-\",\"temp\":\"Card_temp__sukNV\",\"temps\":\"Card_temps__3In0m\",\"button\":\"Card_button__2fA3W\"};"],"sourceRoot":""}